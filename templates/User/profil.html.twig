{% extends 'layout.html.twig' %}

{% block title %}Mon profil{% endblock %}

{% block main %}
    <div class="jumbotron col-lg-6 offset-lg-3 col-md-8 offset-md-2
    col-sm-10 offset-sm-1">
        <h1 class="card-title text-center">{{ user.pseudo }}</h1>
        <div class="card-img col-12 text-center">
            <img src="{{ asset('uploads/photo_profil/' ~ user.getUrlPhoto()) }}"
                 width="150">
        </div>
        <div class="card-text col-12 text-center">

            <p>Prénom : {{ user.prenom }}</p>
            <p>Nom : {{ user.nom }}</p>
        </div>
        <div class="card-text col-12 text-center">
            {% if user.telephone %}
                <p>Téléphone : {{ user.telephone }}</p>
            {% else %}
                <p>Pas de numéro renseigné</p>
            {% endif %}
            <p>Email : {{ user.mail }}</p>
            <p>Campus : {{ user.campus }}</p>
        </div>
        <div class="text-center">
            <a class="btn btn-primary" href="{{ app.request.headers.get('referer') }}">Retour</a>
        </div>
    </div>
    <div class="text-center">
        {% if app.user.administrateur == 1 %}
            <form action="{{ path('supprimer', {id: user.id}) }}" onsubmit="return validate()">

                <input id="status" hidden value="nope">

                <button class="btn btn-danger" type="submit">Supprimer utilisateur</button>

            </form>
        {% endif %}
    </div>
{% endblock %}


{% block javascripts %}
    {{ parent() }}
    <script>
        function validate() {
            if (document.getElementById("status").value) {
                return confirm('Voulez vous vraiment supprimer cet utilisateur?');
            } else {
                console.log('Non non');
                return false;
            }
        }
    </script>

{% endblock %}